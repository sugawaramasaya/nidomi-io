# 🤖 AI_IMPLEMENTATION_RULES.md

> **このファイルは全ての実装・リファクタリング時に必ず従うべきルールです**

---

## 🚫 絶対禁止事項

### デザイン変更の禁止
- **Figmaデザインにない要素の追加は絶対禁止**
- **既存デザインの勝手な調整は絶対禁止**
- **推測による実装は絶対禁止**

### 実装制限
- **任意の値（arbitrary values）の使用禁止**
  - ❌ `w-[200px]` `text-[#ff0000]` `p-[10px]`
  - ✅ `w-[var(--space-200)]` `text-[var(--error)]` `p-[var(--space-16)]`
- **標準Tailwindクラスの使用禁止**
  - ❌ `text-gray-800` `p-4` `w-64`
  - ✅ `text-[var(--on-surface)]` `p-[var(--space-16)]` `w-[var(--space-256)]`
- **カスタムCSS追加の禁止**

---

## 📋 必須実行フロー

### 1. 実装前の確認（必須）
- [ ] `DESIGN_GUIDELINE.md`の内容を確認
- [ ] 参照するFigmaデザインを確認
- [ ] 使用するトークンが定義済みかを確認
- [ ] 変更範囲を明確に把握

### 2. 実装中のルール（必須）
- **一度に一つの変更のみ実行**
- **各段階で必ず確認を実施**
- **不明な点は推測せず必ず確認**

### 3. 実装後の確認（必須）
- [ ] Figmaデザインとの完全一致確認
- [ ] `DESIGN_GUIDELINE.md`ルール準拠確認
- [ ] 他コンポーネントへの影響確認

---

## 🔄 リファクタリング時の特別ルール

### 段階的実行の徹底
1. **Phase 1**: 構造変更のみ（見た目は変更しない）
2. **Phase 2**: トークン更新のみ（レイアウトは変更しない）
3. **Phase 3**: サイズ・余白調整のみ（色は変更しない）
4. **Phase 4**: 最終確認と統合

**各Phaseで必ず完了確認を行い、次のPhaseに進む前に承認を得る**

---

## ⚠️ エラー時の対応

### 間違いを犯した場合
1. **即座に実装を停止**
2. **間違いの具体的な報告**
3. **修正方法の提案**
4. **承認後に修正実行**

### 不明な点がある場合
1. **推測での実装は禁止**
2. **必ず事前に確認**
3. **明確な指示を待つ**

---

## 🎯 実装品質の基準

### 必達条件
- **Figmaデザインとの1px単位での一致**
- **DESIGN_GUIDELINE.mdの完全準拠**
- **定義済みトークンのみの使用**
- **任意の値の一切の排除**

### 確認方法
- **実装前後のスクリーンショット比較**
- **複数画面サイズでの表示確認**
- **既存コンポーネントとの整合性確認**

---

## 📝 指示文への回答形式

### 実装前の回答例
```
実装前の確認を行いました：

【確認事項】
✅ DESIGN_GUIDELINE.md確認済み
✅ Figmaデザイン確認済み（[リンク]）
✅ 使用トークン確認済み（--space-16, --on-surface）
✅ 変更範囲明確化済み

【実装計画】
1. [具体的な実装手順1]
2. [具体的な実装手順2]
3. [具体的な実装手順3]

この計画で実装を開始してもよろしいでしょうか？
```

### 実装後の回答例
```
実装が完了しました：

【実装内容】
- [実装した具体的な内容]

【確認結果】
✅ Figmaデザインとの一致確認済み
✅ DESIGN_GUIDELINE.mdルール準拠確認済み
✅ 他コンポーネントへの影響なし

【次のステップ】
[必要に応じて次の作業提案]
```

---

**このルールに従わない実装は一切受け入れられません。必ず本ファイルの内容を実行前に確認してください。**
